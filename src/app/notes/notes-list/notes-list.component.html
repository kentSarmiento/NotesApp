<mat-spinner *ngIf="isLoading"></mat-spinner>

<mat-tab-group>
  <mat-tab *ngFor="let category of categories">

    <ng-template mat-tab-label>
    {{category.name}}
    </ng-template>

    <ng-template matTabContent>
     <mat-accordion>
      <div *ngFor="let note of notes">
        <div *ngIf="note.category == category.name">
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              {{ note.title }}
            </mat-expansion-panel-header>
            <hr>
            <div class="wrapping">{{ note.content }}</div>
            <mat-action-row>
              <a mat-button color="primary" [routerLink]="['/edit', note.id]">Edit</a>
              <a mat-button color="warn" (click)="onDelete(note.id)">Delete</a>
            </mat-action-row>
          </mat-expansion-panel>
        </div>
      </div>
     </mat-accordion>
    </ng-template>
  </mat-tab>
</mat-tab-group>

<div class="card">
<p class="caption"
   align="center"
   *ngIf="notes.length == 0 && !isLoading">Add your first note!</p>
</div>